# Agent Feature Planning

Create a new plan to implement a new feature in an AI agent using the exact specified markdown `Plan Format`. Follow the `Instructions` to create the plan and use the `Relevant Files` to focus on the right areas.

## Instructions

- IMPORTANT: You're writing a plan to implement a net new feature or capability in an AI agent that will add value to the agent's functionality.
- IMPORTANT: The `Feature` describes the feature that will be implemented. Remember we're not implementing a new feature, we're creating the plan that will be used to implement the feature based on the `Plan Format` below.
- Create the plan in the `ADW/ai_docs/specs/feature/` directory with filename: `49-74b07d31-plan.md`
- Use the `Plan Format` below to create the plan.
- Research the codebase to understand existing patterns, architecture, and conventions before planning the feature.
- IMPORTANT: Replace every <placeholder> in the `Plan Format` with the requested value. Add as much detail as needed to implement the feature successfully.
- Use your reasoning model: THINK HARD about the feature requirements, design, and implementation approach.
- Follow existing patterns and conventions in the codebase. Don't reinvent the wheel.
- Design for extensibility and maintainability within the Strands Agents framework.
- If you need a new library, use `uv add` and be sure to report it in the `Notes` section of the `Plan Format`.
- Don't use decorators. Keep it simple.
- Respect the agent framework being used (Strands Agents with Amazon AgentCore).
- Start your research by reading the `README.md` file.

## Relevant Files

Focus on the following files:
- `README.md` - Contains the agent overview and architecture.
- `agent/**` - Contains the agent implementation code.
- `handlers/**` - Contains the agent handlers and tools.
- `tests/**` - Contains the agent tests.
- `config/**` - Contains the agent configuration files.

Ignore all other files in the codebase.

## Plan Format

```md
# Feature: <feature name>

## Feature Description
<describe the feature in detail, including its purpose and value to the agent>

## Agent Capability
<describe what new capability this feature adds to the agent>

## Problem Statement
<clearly define the specific problem or opportunity this feature addresses>

## Solution Statement
<describe the proposed solution approach and how it integrates with Strands Agents/AgentCore>

## Strands Agents Integration
<describe how this feature integrates with the Strands framework, including:>
- Handler implementation details (if applicable)
- Tool definitions and capabilities (if applicable)
- Multi-agent patterns involved (if applicable)
- Integration with Amazon AgentCore deployment (if applicable)

## Relevant Files
Use these files to implement the feature:

<find and list the files that are relevant to the feature and describe why they are relevant in bullet points. If there are new files that need to be created to implement the feature, list them in an h3 'New Files' section.>

## Implementation Plan
### Phase 1: Foundation
<describe the foundational work needed before implementing the main feature>

### Phase 2: Core Implementation
<describe the main implementation work for the feature>

### Phase 3: Integration
<describe how the feature will integrate with existing agent functionality>

## Step by Step Tasks
IMPORTANT: Execute every step in order, top to bottom.

<list step by step tasks as h3 headers plus bullet points. use as many h3 headers as needed to implement the feature. Order matters, start with the foundational shared changes required then move on to the specific implementation. Include creating tests throughout the implementation process.>

## Testing Strategy
### Unit Tests
<describe unit tests needed for the feature>

### Integration Tests
<describe integration tests needed to ensure the feature works with the agent framework>

### Edge Cases
<list edge cases that need to be tested>

## Acceptance Criteria
<list specific, measurable criteria that must be met for the feature to be considered complete>

## Validation Commands
Execute every command to validate the feature works correctly with zero regressions.

<list commands you'll use to validate with 100% confidence the feature is implemented correctly with zero regressions. every command must execute without errors so be specific about what you want to run to validate the feature works as expected. Include commands to test the feature end-to-end.>

- `pytest tests/ -v` - Run all agent tests to validate the feature works with zero regressions
- Any agent-specific validation or deployment checks

## Notes
<optionally list any additional notes, future considerations, or context that are relevant to the feature that will be helpful to the developer>
```

## Placeholder Reference

The following placeholders will be replaced with actual Jira issue context:
- `DAI-49` - The Jira issue key (e.g., "DAI-4")
- `Align `adw_review.py` console output phases (Workspace, Commit, Finalize) with `adw_build.py`.` - The issue title/summary
- `*Story Format*
As a developer, I want the {{adw_review.py}} script to display the exact same visual "Phase" markers and structure as {{adw_build.py}}, so that the CLI experience is consistent across all ADW tools.

*Acceptance Criteria*

* *Preparing Workspace Phase*: Add {{rich_console.rule("Preparing Workspace", style="cyan")}} before the branch checkout step.
* *Committing Changes Phase*: Add {{rich_console.rule("Committing Changes", style="cyan")}} before the final review commit (specifically for the final commit outside the resolution loop).
* *Finalizing Git Operations Phase*: Add {{rich_console.rule("Finalizing Git Operations", style="cyan")}} before the final {{finalize_git_operations}} call.
* *Completion Phase*: Update the final summary rule to {{rich_console.rule("✅ Review Complete", style="green")}} (or "❌ Review Failed" in red) to match the "Build Complete" style, replacing the existing "Review Summary" rule.
* *Spinners*: Ensure {{rich_console.spinner}} is used for checkout, commit, and push operations, mirroring the implementation in {{adw_build.py}}.

*Traceability To Epic*

* Epic: ADW System Maturation

*Optional (Recommended)*

* *Business Value*: Enforces UI consistency across the ADW toolset, reducing user confusion and improving the professional feel of the CLI.` - The full issue description with requirements
- `` - Comma-separated labels associated with the issue
- `In Progress` - Current state of the issue (e.g., "In Progress")

## Feature

**Issue:** DAI-49
**Status:** In Progress
**Labels:** 

### Feature Title
Align `adw_review.py` console output phases (Workspace, Commit, Finalize) with `adw_build.py`.

### Feature Description
*Story Format*
As a developer, I want the {{adw_review.py}} script to display the exact same visual "Phase" markers and structure as {{adw_build.py}}, so that the CLI experience is consistent across all ADW tools.

*Acceptance Criteria*

* *Preparing Workspace Phase*: Add {{rich_console.rule("Preparing Workspace", style="cyan")}} before the branch checkout step.
* *Committing Changes Phase*: Add {{rich_console.rule("Committing Changes", style="cyan")}} before the final review commit (specifically for the final commit outside the resolution loop).
* *Finalizing Git Operations Phase*: Add {{rich_console.rule("Finalizing Git Operations", style="cyan")}} before the final {{finalize_git_operations}} call.
* *Completion Phase*: Update the final summary rule to {{rich_console.rule("✅ Review Complete", style="green")}} (or "❌ Review Failed" in red) to match the "Build Complete" style, replacing the existing "Review Summary" rule.
* *Spinners*: Ensure {{rich_console.spinner}} is used for checkout, commit, and push operations, mirroring the implementation in {{adw_build.py}}.

*Traceability To Epic*

* Epic: ADW System Maturation

*Optional (Recommended)*

* *Business Value*: Enforces UI consistency across the ADW toolset, reducing user confusion and improving the professional feel of the CLI.

---

Describe the feature that needs to be implemented based on the issue context above. Include:
- What is the feature?
- What problem does it solve?
- What new capability does it add to the agent?
- Who will benefit from this feature?
